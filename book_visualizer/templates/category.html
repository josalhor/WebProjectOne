{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="jumbotron">
	<div class="container">
		<h1 style='font-weight: bold;'>NYT BESTSELLERS</h1>
		<p class="lead text-muted mb-0">{{ category.display_name }}</p>
	</div>
</section>
<div class="container">
	<div class="row">
		<div class="col-12 col-sm-3">
			<div class="card bg-light mb-3">
				<div class="card-header bg-primary text-white text-uppercase"><i class="fa fa-list"></i> Categories</div>
				<ul class="list-group category_block">
				{% for category in categories %}
                	<li class="list-group-item"><a href="{% url 'category' category.pk %}">{{ category.display_name }}</a></li>
				{% endfor %}
				</ul>
			</div>
		</div>
		<div class="col">
			<div class="row">
				{% for book in bestsellers_list %}
                <div class="col-12 col-md-6 col-lg-4">
					<div class="card" style="width: 18rem;">
						<div class="card-body">
							{% if book.image %}
								<img class="card-img-top mx-auto d-block" style="border-radius:0;width:140px;height:200px;" src="{{ book.image.url }}"/>
							{% endif %}
							<h4 class="card-title text-truncate"><a href="{% url 'book_details' book.pk %}" title="View Book">{{ book.title }}</a></h4>
							<h6 class="card-subtitle mb-2 text-muted text-truncate">{{ book.author }}</h6>
							<div class="card-text" style="line-height: 1.5em;height: 6em;overflow: hidden;">{{ book.summary }}</div>
							<div class="row">
								<div class="col">
									<p><a href="{% url 'book_details' book.pk %}" class="btn btn-danger btn-block"> Read More </a></p>
								</div>
							</div>
						</div>
					</div>
				</div>
                {% endfor %}
				<div class="col-12">
					<nav aria-label="...">
						<ul class="pagination justify-content-end mb-4">
							{% if bestsellers_list.has_previous %}
								<li class="page-item activate">
									<a class="page-link" href="?page={{ bestsellers.previous_page_number }}">Previous</a>
								</li>
							{% else %}
								<li class="page-item disabled">
									<a class="page-link" href="#">Previous</a>
								</li>
							{% endif %}
					
							<li class="page-item active"><a class="page-link" href="#">{{ bestsellers_list.number }}</a>
								<span class="sr-only">(current)</span>
							</li>

							{% if bestsellers_list.has_next %}
								<li class="page-item activate">
									<a class="page-link" href="?page={{ bestsellers_list.next_page_number }}">Next</a>
								</li>
							{% else %}
								<li class="page-item disabled">
									<a class="page-link" href="#">Next</a>
								</li>
							{% endif %}
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock content %}